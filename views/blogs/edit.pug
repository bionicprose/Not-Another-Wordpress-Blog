extends ../includes/layout.pug

block content
    h1 Edit !{blog.title}
    div.editor
        div.editor__toolbar
            a(href='#' data-command='h2') 
                |h2
            button.i.fa.fa-undo.fa-3x(onclick="document.execCommand('undo', false, null);")
            button.i.fa.fa-align-left.fa-3x(onclick="document.execCommand('justifyLeft', false, null);")
            button.i.fa.fa-align-right.fa-3x(onclick="document.execCommand('justifyRight', false, null);")
            button.i.fa.fa-align-center.fa-3x(onclick="document.execCommand('justifyCenter', false, null);")
            button.i.fa.fa-bold.fa-3x(onclick="document.execCommand('bold', false, '');")
            button.i.fa.fa-italic.fa-3x(onclick="document.execCommand('italic', false, null);")
            button.i.fa.fa-superscript.fa-3x(onclick="document.execCommand('superscript', false, null);")
            button.i.fa.fa-picture-o.fa-3x(onclick="document.execCommand('insertImage', false, null);")
            button.i.fa.fa-underline.fa-3x(onclick="document.execCommand('underline', false, null);")
            button.i.fa.fa-strikethrough.fa-3x(onclick="document.execCommand('strikeThrough', false, null);")
            button.i.fa.fa-redo.fa-3x(onclick="document.execCommand('redo', false, null);")
            button.i.fa.fa-undo.fa-3x(onclick="document.execCommand('undo', false, null);")
            button.i.fa.fa-indent.fa-3x(onclick="document.execCommand('indent', false, null);")
            button.i.fa.fa-list.fa-3x(onclick="document.execCommand('insertUnorderedList', false, null);")
            button.i.fa.fa-link.fa-3x(onclick="link()")


        form.editor(action='/blog/'+blog.url+'?_method=PUT' method='POST' enctype='multipart/form-data' onsubmit='return copyContent()')
            div.blog__header__img
                img(src='../' + blog.headerImg)
                p Upload a new header image
                input(type='file' name='image') 
            div.editor__title
                input(type='text' name='blog[title]' value=blog.title)
            textarea.editor__textarea--hidden(type='html' name='blog[content]') 
            div.editor__textarea(contenteditable='true')
                p !{blog.content}
            div.editor__tags
                p Tags 
                input.editor__tags--input(type='text' name='blog[tags]' value=blog.tags)
            button.editor__button__publish(type='submit' name='state' value='publish') Publish
            button.editor__button__save(type='submit' name='state' value='draft') Save
    
    block append footer
    
        script(src='../../javascript/editor.js') 